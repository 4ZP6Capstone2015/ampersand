<div class="container-fluid interface">
	<fieldset ng-repeat="(ResourceId, Resource) in ResourceList">
		<!-- I[Project] -->
		<legend>
			<a ng-href="#/Project/{{Resource.id}}">{{Resource.label}}</a>
			<a ng-href="#/Project/?new"><span class="glyphicon glyphicon-plus pull-right CRUDbuttons"></span></a>
			<a href=""><span class="glyphicon glyphicon-trash pull-right CRUDbuttons" ng-click="deleteResource(ResourceId)"></span></a>
		</legend>
		
		<form class="form-horizontal" role="form">		
			<!-- I[Project] disabled, because label of object is never editable-->
			<div class="form-group">
	   			<label class="col-md-1 control-label">Project</label>
	   			<div class="col-md-11">
	   				<input disabled ng-model="Resource.label" type="text" class="form-control input-sm" ng-blur="patch(ResourceId)">
	   			</div>
	 		</div>
	 		
	 		<!-- Name -->
			<div class="form-group">
	   			<label class="col-md-1 control-label">Name</label>
	   			<div class="col-md-11">
					<input ng-model="Resource.Name" type="text" class="form-control input-sm" ng-blur="patch(ResourceId)">
				</div>
	 		</div>
	 		
	 		<!-- Description -->
			<div class="form-group">
	   			<label class="col-md-1 control-label">Description</label>
	   			<div class="col-md-11">
	   				<textarea ng-model="Resource.Description" class="form-control input-sm" placeholder="Textarea" rows="3" ng-blur="patch(ResourceId)"></textarea>
				</div>
	 		</div>
	 		
	 		<!-- Theme -->
	 		<div class="form-group">
	 			<label class="col-md-1 control-label">Theme</label>
	 			<div class="col-md-11">
	 				<table class="table table-striped table-hover table-condensed">
						<thead>
							<tr>
								<th></th> <!-- glyphicon when editable -->
								<th></th> <!-- empty when label is only column -->
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(key, val) in Resource['Theme']">
								<td><span my-showonhovertr class="glyphicon glyphicon-remove" ng-click="removeObject(Resource['Theme'], val.id, ResourceId)"></span></td>
								<td><span>{{val.label}}</span></td>								
							</tr>
							<tr my-showonhovertable>
								<td><span class="glyphicon glyphicon-plus" ng-click="addObject(Resource, 'Theme', selected, ResourceId)"></span></td>
								<td colspan="1"> <!-- add colspan for every extra column -->
									<input ng-model="selected.id" type="text" class="form-control input-sm" placeholder="Add new" typeahead="Theme.id for Theme in typeahead.Theme | filter:$viewValue | limitTo:8" typeahead-editable="false" ng-blur="addObject(Resource, 'Theme', selected, ResourceId)">
								</td>
							</tr>
						</tbody>
	   				</table>
	  			</div>
			</div>
			
	 		<!-- Start date -->
			<div class="form-group">
	   			<label class="col-md-1 control-label">Start date</label>
	   			<div class="col-md-11">
	   				<div class="input-group">
		   				<input ng-model="Resource['Start date']" type="text" class="form-control input-sm" datepicker-popup="dd-MM-yyyy" is-open="datepicker[key+'-Start date'].open" ng-blur="patch(ResourceId)"/>
	       				<span class="input-group-btn">
	         				<button type="button" class="btn btn-default input-sm" ng-click="openDatepicker($event, key+'-Start date')"><i class="glyphicon glyphicon-calendar"></i></button>
	       				</span>
       				</div>
				</div>
	 		</div>
	 		
	 		<!-- People -->
	 		<div class="form-group">
				<label class="col-md-1 control-label">People</label>
				<div class="col-md-11">
					
					<!-- TABS -->
					<tabset ng-repeat="(key1, val1) in Resource['People']">
						<tab heading="Projectleider">
							<table class="table table-striped table-hover table-condensed">
								<thead>
									<tr>
										<th></th> <!-- glyphicon when editable -->
										<th>Projectleider</th>
										<th>Status</th> 
										<th>Email</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="(key, val) in val1['Projectleider']">
										<td><span my-showonhovertr class="glyphicon glyphicon-remove" ng-click="removeObject(val1['Projectleider'], val.id, ResourceId)"></span></td>
										<td><a ng-href="#/Person/{{val.id}}">{{val.label}}</a></td>
										<td>{{val.Status}}</td>
										<td>{{val.Email}}</td>										
									</tr>
									<tr my-showonhovertable class="pointer" ng-click="popUp(val1, 'Projectleider', ResourceId)">
										<td><span class="glyphicon glyphicon-plus"></span></td>
										<td colspan="3"><small>Add new Projectleider</small></td>										
									</tr>
								</tbody>
			   				</table>
						</tab>
						<tab heading="Project members">
			 				<table class="table table-striped table-hover table-condensed">
								<thead>
									<tr>
										<th></th> <!-- glyphicon when editable -->
										<th></th> <!-- empty when label is only column -->
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="(key, val) in val1['Project members']">
										<td><span my-showonhovertr class="glyphicon glyphicon-remove" ng-click="removeObject(val1['Project members'], val.id, ResourceId)"></span></td>
										<td><a ng-href="#/Person/{{val.id}}">{{val.label}}</a></td>
									</tr>
									<tr my-showonhovertable class="pointer" ng-click="popUp(val1, 'Project members', ResourceId)">
										<td><span class="glyphicon glyphicon-plus"></span></td>
										<td colspan="1"><small>Add new Project member</small></td> <!-- add colspan for every extra column -->										
									</tr>
								</tbody>
			   				</table>
						</tab>
					</tabset>
				</div>
			</div>
			
	 		<!-- Projectleider -->
	 		<div class="form-group">
	   			<label class="col-md-1 control-label">Projectleider</label>
	   			<div class="col-md-11">
	   				<table class="table table-striped table-hover table-condensed">
						<thead>
							<tr>
								<th>Name</th>
								<th>Status</th> 
								<th>Email</th>
								<th>Pl from</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(key, val) in Resource.Projectleider">
								<td><span ng-repeat="row in val['Name']">{{row.label}}</span></td>
								<td>{{val['Status']}}</td>
								<td>
									<!-- ng-repeat, because EMAIL is datatype and the expr. 'pplPerson;personEmail' is not specified as univalent (see ticket MIN/MAX attributes)  -->
									<span ng-repeat="val in val['Email']">{{val}}</span>
								</td>
								<td>
									<div class="input-group">
										<input ng-model="val['Pl from']" type="text" class="form-control input-sm" datepicker-popup="dd-MM-yyyy" is-open="datepicker[key+'-Pl from'].open" ng-blur="patch(ResourceId)"/>
										<span class="input-group-btn">
											<button type="button" class="btn btn-default input-sm" ng-click="openDatepicker($event, key+'-Pl from')"><i class="glyphicon glyphicon-calendar"></i></button>
										</span>	
									</div>
								</td> 						
							</tr>
						</tbody>
	   				</table>
	   			</div>
	 		</div>
	 		
	 		<!-- Project members -->
	 		<div class="form-group">
	 			<label class="col-md-1 control-label">Project members</label>
	 			<div class="col-md-11">
	 				<table class="table table-striped table-hover table-condensed">
						<thead>
							<tr>
								<th></th> <!-- glyphicon when editable -->
								<th></th> <!-- empty when label is only column -->
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(key, val) in Resource['Project members']">
								<td><span my-showonhovertr class="glyphicon glyphicon-remove" ng-click="removeObject(Resource['Project members'], val.id, ResourceId)"></span></td>
								<td><a ng-href="#/Person/{{val.id}}">{{val.label}}</a></td>
							</tr>
							<tr my-showonhovertable>
								<td><span class="glyphicon glyphicon-plus" ng-click="addObject(Resource, 'Project members', selected, ResourceId)"></span></td>
								<td colspan="1"> <!-- add colspan for every extra column -->
									<input ng-model="selected.id" type="text" class="form-control input-sm" placeholder="Add new Project memeber" typeahead="Person.id for Person in typeahead.Person | filter:$viewValue | limitTo:8" typeahead-editable="false" ng-blur="addObject(Resource, 'Project members', selected, ResourceId)">
								</td>								
							</tr>
						</tbody>
	   				</table>
	  			</div>
			</div>
	 	</form>
 	</fieldset>
</div>